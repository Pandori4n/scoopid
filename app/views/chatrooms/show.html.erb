<div class= "correspond_bar">
  <%= link_to lost_person_chatrooms_path(@chatroom.lost_person) do %>
    <i class="fas fa-chevron-circle-left"></i>
  <% end %>
  <h2><%= @chatroom.volunteer.first_name %> <%= @chatroom.volunteer.last_name %></h2>
</div>
<div id="messages" data-chatroom-id="<%= @chatroom.id %>">
  <% @chatroom.messages.each do |message| %>
    <div class="message-container" id="message-<%= message.id %>">
      <i class="author">
        <span><%= message.user.first_name %></span>
          <%= message.created_at.strftime("%a %b %e at %l:%M%p") %>
      </i>
      <p><%= message.content %></p>
      <i class="fas fa-share" data-toggle="modal" data-target="#chatModal-<%= message.id %>"></i>
      <div class="modal fade" id="chatModal-<%= message.id %>" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <%= simple_form_for [ @chatroom.host.lost_people.last, @feed_info ] do |f| %> 
                <%= f.input :description,  input_html: {value: message.content} %>
              <% end %>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
              <button type="button" class="btn btn-primary">Save changes</button>
            </div>
          </div>
        </div>
      </div>

    </div>
  <% end %>

  <%= simple_form_for [ @chatroom, @message ], remote: true do |f| %>
  <%= f.input :content, label: false, placeholder: "Message ##{@chatroom.name}" %>
<% end %>
</div>

